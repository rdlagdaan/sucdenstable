import{n as b,j as t,F as fe}from"./index-OQiN5P-Z.js";import{r as o,H as Ve,a as ze,N as Ge}from"./handsontable-7BBM75Z1.js";import{L as Je,D as F,S as he,y as x,F as Xe,a as Ke,b as Ze}from"./DropdownWithHeaders-BRSdrHAi.js";import"./react-Csw2ODfV.js";function Qe({title:l,titleId:u,...f},m){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:m,"aria-labelledby":u},f),l?o.createElement("title",{id:u},l):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const et=o.forwardRef(Qe);function tt({title:l,titleId:u,...f},m){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:m,"aria-labelledby":u},f),l?o.createElement("title",{id:u},l):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const nt=o.forwardRef(tt);function st({title:l,titleId:u,...f},m){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:m,"aria-labelledby":u},f),l?o.createElement("title",{id:u},l):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const ot=o.forwardRef(st);function at({title:l,titleId:u,...f},m){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:m,"aria-labelledby":u},f),l?o.createElement("title",{id:u},l):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const rt=o.forwardRef(at);function J(l){const[u,f]=o.useState([]),[m,N]=o.useState("");return o.useEffect(()=>{(async()=>{try{const _=await b.get(l);let v=[];l==="/api/vendors"?v=_.data.map(d=>({code:d.vend_code,description:d.vend_name})):l==="/api/crop-years"?v=_.data.map(d=>({code:d.crop_year,label:d.begin_year,description:d.end_year})):v=_.data.map(d=>({code:d.code??d.sugar_type??d.vend_code??d.crop_year,description:d.description??d.vendor_name??d.sugar_type??d.crop_year})),f(v)}catch(_){console.error(`Error fetching dropdown from ${l}`,_)}})()},[l]),{items:u.filter(w=>w.code.toString().toLowerCase().includes(m.toLowerCase())||w.label?.toString().toLowerCase().includes(m.toLowerCase())||w.description?.toString().toLowerCase().includes(m.toLowerCase())),setSearch:N,search:m}}ze.cellTypes.registerCellType("numeric",Ge);function ct(l){if(!l)return"";const u=new Date(l),f=u.getFullYear(),m=String(u.getMonth()+1).padStart(2,"0"),N=String(u.getDate()).padStart(2,"0");return`${f}-${m}-${N}`}function ft(){const l=o.useRef(null),[u,f]=o.useState(!1),[m,N]=o.useState(""),[R,w]=o.useState(""),[_,v]=o.useState(""),[d,O]=o.useState(""),[X,I]=o.useState(""),[K,T]=o.useState(""),[ge,M]=o.useState(!1),[h,H]=o.useState(null),[be,Z]=o.useState(!1),[q,ye]=o.useState(void 0),[xe,Q]=o.useState(!1),[we,ee]=o.useState(!1),y=!!h,_e=28,ve=320,k=6,Ne=220,te=(e,n)=>{const a=l.current?.hotInstance;if(!a)return;const r=a.getCell(e,n),s=document.querySelector(".handsontableEditor.autocompleteEditor");if(!r||!s)return;const c=r.getBoundingClientRect(),i=c.top-k,p=window.innerHeight-c.bottom-k,g=p>=Ne||p>=i,me=Math.min(ve,g?p:i,420),pe=Math.max(c.width,300),We=Math.max(8,Math.min(c.left,window.innerWidth-pe-8)),Ye=g?c.bottom+k:Math.max(8,c.top-me-k);s.style.left=`${We}px`,s.style.top=`${Ye}px`,s.style.maxHeight=`${Math.max(160,me)}px`,s.style.width=`${pe}px`,document.querySelector(".handsontableInput")?.focus()},[S,j]=o.useState([]),[ne,Se]=o.useState([]),[se,je]=o.useState([]),[$,A]=o.useState(""),[U,Ce]=o.useState(""),[L,Ee]=o.useState(!1),[it,Pe]=o.useState(null),[oe,W]=o.useState(!1),Y=J("/api/sugar-types"),V=J("/api/crop-years"),P=J("/api/vendors"),[C,z]=o.useState([]),ae=o.useRef(null),[Re,re]=o.useState(!1),E=o.useRef(!1),ce=260,Me=28,ie=(e,n)=>{const a=l.current?.hotInstance;if(!a)return;const r=a.getCell(e,n);if(!r)return;const s=r.getBoundingClientRect(),c=window.innerHeight-s.bottom;if(c>=ce)return;const i=ce-c,p=Math.ceil(i/Me)+1,g=Math.max(0,e-p);a.scrollViewportTo(g,n)},le=o.useRef(null),[de,ke]=o.useState(600);o.useLayoutEffect(()=>{const e=()=>{const a=le.current?.getBoundingClientRect()?.top??0,s=window.innerHeight-a-140;ke(Math.max(320,Math.floor(s)))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const Le=32,Be=240,De=o.useMemo(()=>{const e=Math.max(S.length,6),n=Le*1+e*_e+Be;return Math.min(n,de)},[S.length,de]),B=e=>e.mill&&e.quantity!==void 0&&e.unit_cost!==void 0&&e.commission!==void 0&&e.mill!==""&&e.quantity!==""&&e.unit_cost!==""&&e.commission!=="",Fe=4,G=()=>({mill:"",quantity:0,unit_cost:0,commission:0,cost:0,total_commission:0,total_cost:0,persisted:!1}),Oe=e=>!e?.mill&&!e?.quantity&&!e?.unit_cost&&!e?.commission,D=e=>{const n=[...e];let a=0;for(let s=n.length-1;s>=0&&Oe(n[s]);s--)a++;const r=Math.max(0,Fe-a);for(let s=0;s<r;s++)n.push(G());return n},ue=async()=>{const e=localStorage.getItem("user"),n=e?JSON.parse(e):null,a=await b.get("/api/pbn/dropdown-list",{params:{include_posted:L.toString(),company_id:n?.company_id||""}}),r=a.data.map(s=>({...s,code:s.id.toString(),label:s.pbn_number,description:s.vendor_name??""}));console.log(a),je(r)};o.useEffect(()=>{ue()},[L]),o.useEffect(()=>{const e=localStorage.getItem("user"),a=(e?JSON.parse(e):null)?.company_id;let r=!1;async function s(){try{const{data:c}=await b.get("/api/mills",{params:{company_id:a}});r||Se((c||[]).map(i=>({mill_id:String(i.mill_id),mill_name:i.mill_name})))}catch(c){console.error("Failed to load mills",c)}}return s(),()=>{r=!0}},[]),o.useEffect(()=>{const e=P.items.find(n=>n.code===d);I(e?.description||"")},[d,P.items]),o.useEffect(()=>{h&&C.length>0&&(j(C),M(!0),z([]))},[h,C]),o.useEffect(()=>{ae.current=h},[h]),o.useEffect(()=>{h&&C.length>0&&(j(D(C)),M(!0),z([]))},[h,C]);const Ie=()=>{N(""),A(""),w(""),v(""),O(""),I(""),T(""),f(!1),M(!1),H(null),j(D([G()])),W(!1),x.success("✅ PBN Entry form is now ready for new entry")},Te=async()=>{if((await he.fire({title:"Confirm Save?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Save it!"})).isConfirmed)try{const n=localStorage.getItem("user"),r=(n?JSON.parse(n):null)?.company_id;if(!r){x.error("Company ID not found in session.");return}const{data:s}=await b.get("/api/pbn/generate-pbn-number",{params:{company_id:r,sugar_type:R}}),c=s.pbn_number;N(c);const i=await b.post("/api/pbn/save-main",{sugar_type:R,crop_year:_,pbn_date:K,vend_code:d,vendor_name:X,pbn_number:c,posted_flag:u,company_id:r});await ue();const{id:p}=i.data;H(p),A(p.toString()),j(D([G()])),M(!0),W(!0),x.success("Main PBN Entry saved. You can now input details.")}catch(n){x.error("Failed to save PBN Entry."),console.error(n)}},He=async(e,n)=>{const a=ae.current;if(console.log("here"),console.log("mainEntryId:",a),console.log("pbnNumber:",m),console.log("row complete?",B(e)),!a||!m||!B(e))return;const r=localStorage.getItem("user"),s=r?JSON.parse(r):null,c={...e,mill_code:ne.find(i=>i.mill_name===e.mill)?.mill_id||"",pbn_entry_id:a,pbn_number:m,row:n,company_id:s.company_id,user_id:s.id,cost:Math.round(e.quantity*e.unit_cost*100)/100,total_commission:e.quantity*e.commission,total_cost:e.quantity*e.unit_cost+e.quantity*e.commission};try{if(e.persisted)await b.post("/api/pbn/update-detail",c);else{const i=await b.post("/api/pbn/save-detail",c),p={...e,id:i.data.detail_id,persisted:!0},g=[...S];g[n]=p,n===g.length-1&&g.push({mill:"",quantity:0,unit_cost:0,commission:0,cost:0,total_commission:0,total_cost:0}),j(g)}}catch(i){console.error("Auto-save failed",i)}},qe=async e=>{try{const n=localStorage.getItem("user"),a=n?JSON.parse(n):null,s=(await b.get(`/api/id/${e}`,{params:{company_id:a?.company_id}})).data;Pe(s),A(s.main.id.toString()),w(s.main.sugar_type),v(s.main.crop_year),O(s.main.vend_code),I(s.main.vendor_name),f(s.main.posted_flag===1),T(ct(s.main.pbn_date)),W(!0);const c=Array.isArray(s.details)&&s.details.length>0?s.details.map(i=>({mill:i.mill||"",quantity:i.quantity??0,unit_cost:i.unit_cost??0,commission:i.commission??0,cost:Math.round((i.quantity??0)*(i.unit_cost??0)*100)/100,total_commission:(i.quantity??0)*(i.commission??0),total_cost:(i.quantity??0)*(i.unit_cost??0)+(i.quantity??0)*(i.commission??0),id:i.id,row:i.row,pbn_entry_id:i.pbn_entry_id,pbn_number:i.pbn_number,persisted:!0})):[{mill:"",quantity:0,unit_cost:0,commission:0,cost:0,total_commission:0,total_cost:0,persisted:!1}];z(c),H(s.main.id),N(s.main.pbn_number)}catch(n){console.error("Failed to fetch PBN data:",n)}},$e=o.useMemo(()=>{const e=U.toLowerCase();return se.filter(n=>(n.pbn_number||"").toLowerCase().includes(e)||(n.vendor_name||"").toLowerCase().includes(e)||(n.pbn_date||"").toLowerCase().includes(e)||new Date(n.pbn_date).toLocaleDateString("en-US").includes(e))},[se,U]),Ae=()=>{if(!$){x.error("Please select or save a PBN first.");return}const e=localStorage.getItem("user"),n=e?JSON.parse(e):null,a=`/api/pbn/form-pdf/${$}?company_id=${encodeURIComponent(n?.company_id||"")}`;ye(a),Q(!0)},Ue=async()=>{try{if(!h){x.info("Please save or select a PBN first.");return}const e=localStorage.getItem("user"),n=e?JSON.parse(e):null,a=await b.get(`/api/pbn/form-excel/${h}`,{responseType:"blob",params:{company_id:n?.company_id||""}}),r=`PBN_${m||h}.xlsx`,s=a.headers["content-disposition"]?.match(/filename="?([^"]+)"?/)?.[1],c=new Blob([a.data],{type:a.headers["content-type"]||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),i=URL.createObjectURL(c),p=document.createElement("a");p.href=i,p.download=s||r,document.body.appendChild(p),p.click(),p.remove(),URL.revokeObjectURL(i)}catch(e){console.error(e),x.error("Failed to download Excel.")}};return t.jsxs("div",{className:"space-y-4 p-6",children:[t.jsx(Je,{position:"top-right",autoClose:3e3}),t.jsxs("div",{className:"bg-yellow-50 shadow-md rounded-lg p-6 space-y-4 border border-yellow-400",children:[t.jsx("h2",{className:"text-xl font-bold text-green-800 mb-4",children:"Purchase Book Note Entry Main"}),t.jsxs("div",{className:"flex items-end gap-2 w-full",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("input",{type:"checkbox",checked:L,onChange:()=>Ee(!L),className:"form-checkbox h-4 w-4 text-blue-600"}),t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"PBN #"})]}),t.jsx("div",{className:"flex-grow",children:t.jsx(F,{label:"",value:$,onChange:qe,items:$e,search:U,onSearchChange:Ce,headers:["ID","PBN Number","Sugar Type","Vendor Name","Crop Year","PBN Date"],dropdownPositionStyle:{minWidth:"1200px"},columnWidths:["30px","150px","60px","200px","80px","120px"],customKey:"pbn"})})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsx(F,{label:"Sugar Type",value:R,onChange:w,items:Y.items,search:Y.search,onSearchChange:Y.setSearch,headers:["Sugar Type","Description"]}),t.jsx(F,{label:"Crop Year",value:_,onChange:v,items:V.items,search:V.search,onSearchChange:V.setSearch,headers:["Crop Year","FYear","TYear"]}),t.jsxs("div",{children:[t.jsx("label",{children:"PBN Date"}),t.jsx("input",{type:"date",value:K,onChange:e=>T(e.target.value),className:"w-full border p-2 bg-green-100 text-green-900"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(F,{label:"Vendor",value:d,onChange:O,items:P.items,search:P.search,onSearchChange:P.setSearch,headers:["Vendor Code","Vendor Name"]}),t.jsxs("div",{children:[t.jsx("label",{className:"block",children:"Vendor Name"}),t.jsx("input",{disabled:!0,className:"w-full border p-2 bg-green-100 text-green-900",value:X})]})]})]}),t.jsxs("div",{ref:le,className:"relative z-0",children:[t.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2 mt-6",children:"Purchase Book Note Details"}),ge&&t.jsx(Ve,{ref:l,data:S,colHeaders:["Mill","Quantity","Unit Cost","Commission","Cost","Total Commission","Total Cost"],columns:[{data:"mill",type:"autocomplete",source:(e,n)=>{const a=ne.map(s=>s.mill_name);if(!e)return n(a);const r=String(e).toLowerCase();n(a.filter(s=>s.toLowerCase().includes(r)))},strict:!1,filter:!0,allowInvalid:!1,visibleRows:10,trimDropdown:!1},{data:"quantity",type:"numeric",numericFormat:{pattern:"0,0.00"}},{data:"unit_cost",type:"numeric",numericFormat:{pattern:"0,0.00"}},{data:"commission",type:"numeric",numericFormat:{pattern:"0,0.00"}},{data:"cost",type:"numeric",readOnly:!0,numericFormat:{pattern:"0,0.00"}},{data:"total_commission",type:"numeric",readOnly:!0,numericFormat:{pattern:"0,0.00"}},{data:"total_cost",type:"numeric",readOnly:!0,numericFormat:{pattern:"0,0.00"}}],afterBeginEditing:(e,n)=>{E.current=!0,requestAnimationFrame(()=>ie(e,n))},beforeKeyDown:e=>{const n=document.querySelector(".handsontableEditor.autocompleteEditor"),a=document.activeElement;if(n&&a&&n.contains(a)){const r=e.key;(r==="ArrowDown"||r==="ArrowUp"||r==="PageDown"||r==="PageUp"||r==="Home"||r==="End")&&e.stopPropagation()}if(E.current){const r=l.current?.hotInstance,s=r?.getSelectedLast();if(r&&s){const[c,i]=s;requestAnimationFrame(()=>ie(c,i))}}},afterSelectionEnd:()=>{E.current=!1},afterDeselect:()=>{E.current=!1},afterScrollVertically:()=>{if(!E.current)return;const e=l.current?.hotInstance,n=e?.getSelectedLast();if(!e||!n)return;const[a,r]=n;requestAnimationFrame(()=>te(a,r))},afterRender:()=>{if(!E.current)return;const e=l.current?.hotInstance,n=e?.getSelectedLast();if(!e||!n)return;const[a,r]=n;requestAnimationFrame(()=>te(a,r))},afterChange:(e,n)=>{if(!e||n!=="edit")return;const a=[...S];let r=!1;e.forEach(([s])=>{const c=a[s];if(!c)return;const i=c.quantity??0,p=c.unit_cost??0,g=c.commission??0;c.cost=Math.round(i*p*100)/100,c.total_commission=i*g,c.total_cost=c.cost+c.total_commission,console.log(c),B(c)&&(console.log("is it complete"),setTimeout(()=>{setTimeout(()=>{h&&B(c)&&He(c,s)},0)},0),s===a.length-1&&(r=!0))}),r&&a.push({mill:"",quantity:0,unit_cost:0,commission:0,cost:0,total_commission:0,total_cost:0}),j(D(a))},contextMenu:{items:{remove_row:{name:"🗑️ Remove row",callback:async function(e,n){const a=n[0].start.row,r=S[a];if((await he.fire({title:"Confirm Deletion?",text:"Do you want to delete this record?",icon:"warning",showCancelButton:!0,confirmButtonText:"Delete",cancelButtonText:"Cancel"})).isConfirmed)try{await b.post("/api/pbn/delete-detail",{...r,pbn_entry_id:r.pbn_entry_id,pbn_number:r.pbn_number,row:r.id});const c=[...S];c.splice(a,1),j(c),x.success("✅ Row deleted successfully")}catch(c){x.error("❌ Failed to delete record"),console.error(c)}}}}},manualColumnResize:!0,stretchH:"all",width:"100%",height:De,rowHeaders:!0,licenseKey:"non-commercial-and-evaluation"})]}),t.jsxs("div",{className:"flex gap-3 mt-4 items-start",children:[t.jsxs("div",{className:"relative inline-block",onMouseEnter:()=>ee(!0),onMouseLeave:()=>ee(!1),children:[t.jsxs("button",{type:"button",disabled:!y,title:y?"Download":"Save/select a PBN first",className:`inline-flex items-center gap-2 rounded border px-3 py-2 focus:outline-none ${y?"bg-white text-emerald-700 border-emerald-300 hover:bg-emerald-50 focus:ring-2 focus:ring-emerald-400":"bg-gray-100 text-gray-400 border-gray-200 cursor-not-allowed"}`,children:[t.jsx(et,{className:`h-5 w-5 ${y?"text-emerald-600":"text-gray-400"}`}),t.jsx("span",{children:"Download"}),t.jsx(fe,{className:`h-4 w-4 opacity-70 ${y?"text-emerald-700":"text-gray-400"}`})]}),we&&t.jsx("div",{className:"absolute left-0 top-full z-50",children:t.jsx("div",{className:"mt-1 w-60 rounded-md border bg-white shadow-lg py-1",children:t.jsxs("button",{type:"button",onClick:Ue,disabled:!y,className:`flex w-full items-center gap-3 px-3 py-2 text-sm ${y?"text-gray-800 hover:bg-emerald-50":"text-gray-400 cursor-not-allowed pointer-events-none"}`,children:[t.jsx(nt,{className:`h-5 w-5 ${y?"text-emerald-600":"text-gray-400"}`}),t.jsx("span",{className:"truncate",children:"PBN Form - Excel"}),t.jsx("span",{className:`ml-auto text-[10px] font-semibold ${y?"text-emerald-600":"text-gray-400"}`,children:"XLSX"})]})})})]}),t.jsxs("div",{className:"relative inline-block",onMouseEnter:()=>re(!0),onMouseLeave:()=>re(!1),children:[t.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 rounded border px-3 py-2 bg-white text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-400",children:[t.jsx(Xe,{className:"h-5 w-5"}),t.jsx("span",{children:"Print"}),t.jsx(fe,{className:"h-4 w-4 opacity-70"})]}),Re&&t.jsx("div",{className:"absolute left-0 top-full z-50",children:t.jsx("div",{className:"mt-1 w-60 rounded-md border bg-white shadow-lg py-1",children:t.jsxs("button",{type:"button",onClick:Ae,className:"flex w-full items-center gap-3 px-3 py-2 text-sm text-gray-800 hover:bg-gray-100",children:[t.jsx(ot,{className:"h-5 w-5 text-red-600"}),t.jsx("span",{className:"truncate",children:"PBN Form - PDF"}),t.jsx("span",{className:"ml-auto text-[10px] font-semibold text-red-600",children:"PDF"})]})})})]}),t.jsxs("button",{onClick:Ie,className:"inline-flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:[t.jsx(Ke,{className:"h-5 w-5"}),t.jsx("span",{children:"New"})]}),t.jsxs("button",{onClick:Te,disabled:oe,className:`inline-flex items-center gap-2 px-4 py-2 rounded ${oe?"bg-gray-400 cursor-not-allowed text-white":"bg-green-600 text-white hover:bg-green-700"}`,children:[t.jsx(Ze,{className:"h-5 w-5"}),t.jsx("span",{children:"Save"})]})]}),be&&t.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center bg-black/50",onClick:()=>Z(!1),children:t.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-[90vw] max-w-[1100px] h-[88vh] flex flex-col",onClick:e=>e.stopPropagation(),children:[t.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b",children:[t.jsx("div",{className:"font-semibold",children:"PBN Form – PDF"}),t.jsx("button",{onClick:()=>Z(!1),className:"p-2 hover:bg-gray-100 rounded","aria-label":"Close",children:t.jsx(rt,{className:"h-6 w-6"})})]}),t.jsx("div",{className:"flex-1",children:q?t.jsx("iframe",{title:"PBN PDF",src:q,className:"w-full h-full"}):t.jsx("div",{className:"h-full flex items-center justify-center text-gray-500",children:"Loading PDF…"})})]})}),xe&&t.jsx("div",{className:"fixed inset-0 z-[10000] bg-black/50 flex items-center justify-center",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-[90vw] h-[85vh] relative",children:[t.jsx("button",{onClick:()=>Q(!1),className:"absolute top-2 right-2 rounded-full px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200","aria-label":"Close",children:"✕"}),t.jsx("div",{className:"h-full w-full pt-8",children:t.jsx("iframe",{title:"PBN Form PDF",src:q,className:"w-full h-full",style:{border:"none"}})})]})})]})}export{ft as default};
